<!-- [opened]="(isHandset$ | async) === false" -->
<mat-sidenav-container class="sidenav-container" fxLayout="row" autosize="true">
  <mat-sidenav #drawer class="sidenav" fixedInViewport [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'" opened="true" [opened]="(isHandset$ | async) === false"
    fxFlex="1 1 auto">

    <div id="sidenavInner" fxLayout="column">

      <div fxFlex="1 1 auto" fxLayout="column">
        <mat-toolbar fxLayout="row" fxLayoutAlign="start center" fxFlex="1 1 100px">
          <img id="meetupImage" *ngIf="isExpanded" src="/assets/imgs/meetup_logo_with.svg" alt="Meetup Logo">
          <img id="meetupImageSmall" *ngIf="!isExpanded" src="/assets/imgs/meetup_logo_without.svg" alt="Meetup Logo">

        </mat-toolbar>
        <mat-nav-list>
          <mat-list-item (click)="gotoHome()">
            <div class="list-item-div" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start center">
              <mat-icon mat-list-icon>home</mat-icon>
              <mat-label *ngIf="isExpanded">Home</mat-label>
            </div>
          </mat-list-item>
          <mat-list-item (click)="meetingsClick()">
            <div class="list-item-div" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start center">
              <mat-icon mat-list-icon>meeting_room</mat-icon>
              <mat-label *ngIf="isExpanded">Meetings</mat-label>
            </div>
          </mat-list-item>

          <mat-list-item (click)="logOut()">
            <div class="list-item-div" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="start center">
              <mat-icon mat-list-icon>person</mat-icon>
              <mat-label *ngIf="isExpanded">Logout</mat-label>
            </div>
          </mat-list-item>
        </mat-nav-list>
      </div>

      <mat-divider></mat-divider>

      <div *ngIf="isExpanded" fxFlex="1 1 50px" fxLayout="column" fxLayoutAlign="center end">
        <mat-icon aria-label="Side nav toggle icon" (click)="isExpanded = !isExpanded">keyboard_arrow_left</mat-icon>
      </div>
      <div *ngIf="!isExpanded" fxFlex="1 1 50px" fxLayout="column" fxLayoutAlign="center center">
        <mat-icon aria-label="Side nav toggle icon" (click)="isExpanded = !isExpanded">keyboard_arrow_right</mat-icon>
      </div>

    </div>
  </mat-sidenav>
  <mat-sidenav-content fxFlex="1 1 auto" fxLayout="column">

    <mat-toolbar class="header-toolbar" fxLayout="row" fxFlex="1 1 75px" fxLayoutAlign="center center">

      <mat-label>{{session.getUserData()?.getEmail() + '( '+session.getUserData()?.getFirstName()+'
        '+session.getUserData()?.getLastName()+')'}}</mat-label>
      <span fxFlex="1 1 auto"></span>

      <div class="search-container" fxFlex="1 1 600px" fxLayout="row">
        <div class="search-input-wrapper" fxFlex="1 1 auto">
          <input matInput placeholder="Search" class="search-input">
        </div>

        <button mat-stroked-button class="search-button" fxFlex="1 1 75px">
          <mat-icon class="search-icon">search</mat-icon>
        </button>
      </div>

      <span fxFlex="1 1 auto"></span>

      <!-- <div> -->
      <!-- <mat-icon *ngIf="notificationCount <= 0" matBadgeColor="warn"></mat-icon> -->
      <mat-icon [matBadgeHidden]="notificationCount <= 0" matBadge="{{notificationCount}}" matBadgeColor="warn"
        class="notification-icon"
        matTooltip="{{(notificationCount <= 0)?'no new notification':'new notifications : click to view'}}"
        matTooltipPosition="below" matTooltipHideDelay="1000">{{(notificationCount <=
          0)?'notifications':'notifications_active'}}</mat-icon>
          <!-- </div> -->

          <!-- </mat-toolbar-row> -->

    </mat-toolbar>
    <mat-divider></mat-divider>
    <!-- <mat-divider></mat-divider> -->
    <div fxFlex="1 1 auto" class="content-div">
      <router-outlet></router-outlet>
    </div>

  </mat-sidenav-content>
</mat-sidenav-container>